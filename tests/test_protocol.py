cmd_prefix = bytearray([0xBB, 0x0F, 0x69, 0x52])

def test_construct_state_change(protocol):
    assert protocol.construct_state_change(cmd_prefix,1) == bytearray([0xBB, 0x0F, 0x69, 0x52, 0x00, 0x41, 0x06, 0x01])
    assert protocol.construct_state_change(cmd_prefix,0) == bytearray([0xBB, 0x0F, 0x69, 0x52, 0x00, 0x41, 0x06, 0x00])

def test_construct_levels_change(protocol):
    assert ( protocol.construct_levels_change(cmd_prefix,0,0,0,0,0,0,0,0) == 
        bytearray([0xBB, 0x0F, 0x69, 0x52, 0x00, 0x41, 0x11, 0xFF,
                   0x00, 0x00, 0x00, # UP warm cold
                   0x00, 0x00, 0x00, # Down warm cold
                   0x00, 0x00, 0x00, # Edge white red 
                   0x00, 0x00, 0x00  # Edge green blue
        ]))
    assert ( protocol.construct_levels_change(cmd_prefix,0x111,0x222,0x333,0x444,0x555,0x666,0x777,0xFFF) == 
        bytearray([0xBB, 0x0F, 0x69, 0x52, 0x00, 0x41, 0x11, 0xFF,
                   0x11, 0x12, 0x22, # UP warm cold
                   0x33, 0x34, 0x44, # Down warm cold
                   0x55, 0x56, 0x66, # Edge white red 
                   0x77, 0x7F, 0xFF  # Edge green blue
        ]))  

def test_construct_effect_start(protocol):
    assert ( protocol.construct_effect_start(cmd_prefix,0) == 
        bytearray([0xBB, 0x0F, 0x69, 0x52, 0xC0, 0x01, 0x01, 0x00]))
    assert ( protocol.construct_effect_start(cmd_prefix,5) == 
        bytearray([0xBB, 0x0F, 0x69, 0x52, 0xC0, 0x01, 0x01, 0x05]))